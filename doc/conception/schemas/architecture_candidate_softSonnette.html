<script>
	// @ts-check
/**
 * @type {import("./Model.d.ts").Model<false>}
 */	
const model =
	{
		name: "Imported_Architecture Candidate détailé SoftSonnette",
		classes: String.raw`
			class Starter <<active>>{
			main()
			-cleanup()
			}
			
			class UISS <<active>>{
			-quitSS()
			-ring()
			-display()
			launchSS()
			updateCamState(state : bool)
			updateDoorStat(state : bool)
			signalNotAllowed()
			}
			
			class ProxyGUI <<medium>>{
			updateDoorState(state : bool)
			}
			
			class Cameraman <<active>>{
			-cameraAlive : bool
			-checkCameraConnected()
			getCameraPicture() : Picture
			subscribeToVideoStream(enable : bool)
			startStreaming()
			stopStreaming()
			}
			
			class Guard {
			-motDePasse : Password
			askCheckPass(pass : Password)
			}
			
			class Clock <<protected>>{
			-currentTime : Time
			getCurrentTime()
			setCurrentTime(time : Time)
			}
			
			class Streamer <<boundary>> <<medium>> <<active>>{
			inforstream : CustomData
			initGstreamer()
			streamEcran()
			streamTel()
			cleanPipeline()
			stopPipeline()
			}
			
			class Bouncer <<active>>{
			-picture : Picture
			checkEmployeeAllow(time : Time, employee : Employee)
			setRecognizeFace(employeeID : EmployeeID)
			askFaceRecognition(employeeID : EmployeeID)
			}
			
			class RecognitionAI <<active>>{
			launch()
			}
			
			class ProxyUISP <<medium>>{
			launchSP()
			}
			
			class ProxyDoorManager <<medium>>{
			askOpenDoor()
			askDoorState()
			}
			
			class EmployeeManager <<protected>>{
			employeeList : Employee[*] 
			-load()
			-save()
			addEmployee(name : String, FirstName : String, picture : Picture, role : String, workingHours : Hour[*])
			deleteEmployee(employeeID : EmployeeID)
			getEmployeeList() : Employee[*] 
			getEmployee(employeeID : EmployeeID) : Employee
			askEmployeeList()
			}
			
			class ProxyConnectionManager <<medium>>{
			validatePass(passValidated : bool)
			}
			
			class PostmanAOP <<medium>> <<active>>{
			-socketSoftSonnette : int
			-socketAOP : int
			-setUpConnection() 
			readMessage(size : int)
			askSendMessage(message : char[*])
			}
			
			class DispatcherAOP <<medium>> <<active>>{
			-dispatch()
			setConnected(state : bool)
			}

			class PostmanSP <<medium>> <<active>>{
			readMessage(size : int)
			askSendMessage(message : char[*])
			}
			
			class DispatcherSP <<medium>> <<active>>{
			-dispatch()
			}

			class ProtocolSS{
			encode(cmd_id : int, nbargs : int, data : char[*]) : char[*]
			decode(frame : char[*]) : Decoded_Frame 

			}

			class ProtocolSP{
			encode(cmd_id : int, target : int) : char[*]
			decode(frame : char[*]) : Decoded_Frame_SP
			}

			class DataEmployee <<entity>>{
			}

			ProtocolSS "1" -- "1" DispatcherAOP
			ProtocolSS "1" -- "1" ProxyConnectionManager
			ProtocolSS "1" -- "1" ProxyGUI
			ProtocolSP "1" -- "1" DispatcherSP
			ProtocolSP "1" -- "1" ProxyUISP
			ProtocolSP "1" -- "1" ProxyDoorManager
			Cameraman "1" -- "1" UISS
			Starter "1" -- "1" UISS
			Starter "1" -- "1" Cameraman
			Starter "1" -- "1" Bouncer
			Cameraman "1" -- "1" Streamer
			Guard "1" -- "1" ProxyConnectionManager
			Guard "1" -- "1" PostmanAOP
			RecognitionAI "1" -- "1" Bouncer
			Bouncer "1" -- "1" UISS
			Cameraman "1" -- "1" Bouncer
			Clock "1" -- "1" Bouncer
			EmployeeManager "1" -- "1" Bouncer
			EmployeeManager "1" -- "1" DataEmployee
			Cameraman "1" -- "1" DispatcherAOP
			PostmanAOP "1" -- "1" Bouncer
			PostmanAOP "1" -- "1" ProxyGUI
			DispatcherAOP "1" -- "1" ProxyDoorManager
			PostmanSP "1" -- "1" ProxyDoorManager
			PostmanSP "1" -- "1" ProxyUISP
			PostmanSP "1" -- "1" DispatcherSP
			ProxyGUI "1" -- "1" DispatcherSP
			ProxyConnectionManager "1" -- "1" PostmanAOP
			
		`,
		objects: [
			{
				name: "cameraman",
				class: "Cameraman",
				stereotypes: [
					"active",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "guard",
				class: "Guard",
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "clock",
				class: "Clock",
				stereotypes: [
					"protected",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "bouncer",
				class: "Bouncer",
				stereotypes: [
					"active",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "recognitionAI",
				class: "RecognitionAI",
				stereotypes: [
					"active",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "employeeManager",
				class: "EmployeeManager",
				stereotypes: [
					"entity",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "starter",
				class: "Starter",
				stereotypes: [
					"active",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "proxyConnectionManager",
				class: "ProxyConnectionManager",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "streamer",
				class: "Streamer",
				stereotypes: [
					"boundary",
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "dataEmployee",
				class: "DataEmployee",
				stereotypes: [
					"entity",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
			{
				name: "dispatcherAOP",
				class: "DispatcherAOP",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "postmanAOP",
				class: "PostmanAOP",
				stereotypes: [
					"active",
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "proxyGUI",
				class: "ProxyGUI",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "dispatcherSP",
				class: "DispatcherSP",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "protocolSS",
				class: "ProtocolSS",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "protocolSP",
				class: "ProtocolSP",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "postmanSP",
				class: "PostmanSP",
				stereotypes: [
					"active",
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "proxyDoorManager",
				class: "ProxyDoorManager",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "proxyUISP",
				class: "ProxyUISP",
				stereotypes: [
					"medium",
				],
				packagePath: [
					"com",
					"SoftSonnette",
				],
			},
			{
				name: "UISS",
				class: "UISS",
				stereotypes: [
					"active",
				],
				packagePath: [
					"SoftSonnette",
				],
			},
		],
		connectorByName: {
			C1: {
				ends: [
					"clock",
					"bouncer",
				],
			},
			C2: {
				ends: [
					"cameraman",
					"bouncer",
				],
			},
			C3: {
				ends: [
					"employeeManager",
					"bouncer",
				],
			},
			C4: {
				ends: [
					"recognitionAI",
					"bouncer",
				],
			},
			C5: {
				ends: [
					"streamer",
					"cameraman",
				],
			},
			C6: {
				ends: [
					"starter",
					"cameraman",
				],
			},
			C7: {
				ends: [
					"starter",
					"bouncer",
				],
			},
			C8: {
				ends: [
					"starter",
					"UISS",
				],
			},
			C9: {
				ends: [
					"guard",
					"proxyConnectionManager",
				],
			},
			C10: {
				ends: [
					"proxyConnectionManager",
					"postmanAOP",
				],
			},
			C11: {
				ends: [
					"dataEmployee",
					"employeeManager",
				],
			},
			C12: {
				ends: [
					"proxyGUI",
					"postmanAOP",
				],
			},
			C13: {
				ends: [
					"postmanAOP",
					"dispatcherAOP",
				],
			},
			C14: {
				ends: [
					"proxyDoorManager",
					"dispatcherAOP",
				],
			},
			C15: {
				ends: [
					"cameraman",
					"dispatcherAOP",
				],
			},
			C16: {
				ends: [
					"guard",
					"dispatcherAOP",
				],
			},
			C17: {
				ends: [
					"employeeManager",
					"dispatcherAOP",
				],
			},
			C18: {
				ends: [
					"dispatcherSP",
					"proxyGUI",
				],
			},
			C19: {
				ends: [
					"dispatcherSP",
					"postmanSP",
				],
			},
			C20: {
				ends: [
					"proxyUISP",
					"postmanSP",
				],
			},
			C21: {
				ends: [
					"proxyDoorManager",
					"postmanSP",
				],
			},
			C22: {
				ends: [
					"protocolSS",
					"proxyConnectionManager",
				],
			},
			C23: {
				ends: [
					"protocolSS",
					"dispatcherAOP",
				],
			},
			C24: {
				ends: [
					"protocolSS",
					"proxyGUI",
				],
			},
			C25: {
				ends: [
					"UISS",
					"cameraman",
				],
			},
			C26: {
				ends: [
					"protocolSP",
					"dispatcherSP",
				],
			},
			C27: {
				ends: [
					"protocolSP",
					"proxyDoorManager",
				],
			},
			C28: {
				ends: [
					"protocolSP",
					"proxyUISP",
				],
			},
		},
	}
;
document.write(`
	<iframe width="100%" height="100%" src='http://172.24.2.1/AnimUML.html#${encodeURIComponent(JSON.stringify(model)).replace(/'/g, '%27')}'></iframe>
`);
</script>
